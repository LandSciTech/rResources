<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rResources">
<title>R package development • rResources</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="R package development">
<meta property="og:description" content="rResources">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rResources</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/good_code.html">Minimum requirements for good code</a>
    <a class="dropdown-item" href="../articles/package_development.html">R package development</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>R package development</h1>
            
      
      
      <div class="d-none name"><code>package_development.Rmd</code></div>
    </div>

    
    
<p>The primary resource for package development is the book <a href="https://r-pkgs.org/index.html" class="external-link">R Packages</a>. It includes
information on everything you need to know to build a package (with
functions, tests and vignettes), connect it to GitHub and release it.
The following are notes on implementing this process and some additional
extensions (eg a pkgdown website and GitHub actions)</p>
<div class="section level3">
<h3 id="change-a-package-name">Change a package name<a class="anchor" aria-label="anchor" href="#change-a-package-name"></a>
</h3>
<p><a href="https://www.njtierney.com/post/2017/10/27/change-pkg-name/" class="external-link uri">https://www.njtierney.com/post/2017/10/27/change-pkg-name/</a></p>
</div>
<div class="section level3">
<h3 id="set-up-github-actions">Set up GitHub Actions<a class="anchor" aria-label="anchor" href="#set-up-github-actions"></a>
</h3>
<p>Setup to run R CMD CHECK on GitHub on 3 OSes with
<code>use_github_action_check_release()</code> More details available <a href="https://orchid00.github.io/actions_sandbox/index.html" class="external-link">here</a>. I
had to make a new GitHub Personal Access Token because the one I had did
not have the workflow scope.</p>
<p>I also changed the event that triggers the check to
<code>on: workflow_dispatch</code> which means it is only run manually
because if I was doing development on the master branch in a private
repo and it uses up the resources quickly. The other option is to use
branches for development and trigger the action on pull requests.</p>
</div>
<div class="section level3">
<h3 id="setting-up-package-website-with-pkgdown">Setting up package website with pkgdown<a class="anchor" aria-label="anchor" href="#setting-up-package-website-with-pkgdown"></a>
</h3>
<p>Use <code>usethis::use_pkgdown_github_pages()</code> to add a GitHub
action to build the website based on documentation and vignettes
whenever there is a push to the master branch which will keep it up to
date. It uses a branch called gh-pages to do this so just don’t mess
with that branch.</p>
</div>
<div class="section level3">
<h3 id="cran-r-cmd-check-notes-that-have-caused-issues">CRAN R CMD CHECK NOTES that have caused issues<a class="anchor" aria-label="anchor" href="#cran-r-cmd-check-notes-that-have-caused-issues"></a>
</h3>
<p>You will get a NOTE that says “no visible binding for global
variable” if you use dplyr because column names are not really objects.
Need to add .data$ before each, <a href="https://dplyr.tidyverse.org/articles/programming.html#eliminating-r-cmd-check-notes-1" class="external-link">see</a></p>
<p>This also happened for me when I had data that I wanted to be
available inside functions and also to the user. You can make it
available to users with <code>use_data(dataset)</code> but you need to
refer to it in the package with <code>package::dataset</code>. I have
now had an issue with this where building the pkgdown website failed
saying “dataset is not exported from namespace package” so not sure what
the best answer is. At the moment I am including the data as both
external and internal which seems to work.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Sarah Endicott.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
